\documentclass[12pt,openright,oneside]{report}

% ========================= Codificación y tipografía (pdfLaTeX) =========================
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}

% ========================= Idiomas =========================
\usepackage[spanish,english]{babel}
\selectlanguage{spanish}

% ========================= Geometría, espaciado y tablas =========================
\usepackage{geometry}
\geometry{letterpaper, margin=2.5cm}
\usepackage{setspace}
% \onehalfspacing % Activa si tu normativa lo exige
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{multirow}
\usepackage{array}

% ========================= Gráficos y dibujo =========================
\usepackage{graphicx}
\graphicspath{{./}{figuras/}} % Ajusta si tus logos están en otra ruta
\usepackage{float}
\usepackage{subcaption}
\usepackage{tikz}
\usetikzlibrary{calc}  % <-- añade esta línea
\usepackage{pgfplots}
\usepgfplotslibrary{colorbrewer}
\pgfplotsset{width=8cm,compat=1.18}

% ========================= Matemáticas y entornos =========================
\usepackage{amsmath, amssymb, amsthm, bm}
\usepackage{empheq}
\usepackage{mdframed}

% ========================= Colores =========================
\usepackage{xcolor}
\definecolor{ocre}{RGB}{243,102,25}
\definecolor{mygray}{RGB}{243,243,244}
\definecolor{deepGreen}{RGB}{26,111,0}
\definecolor{shallowGreen}{RGB}{235,255,255}
\definecolor{deepBlue}{RGB}{61,124,222}
\definecolor{shallowBlue}{RGB}{235,249,255}
\definecolor{ipnBrown}{RGB}{123,48,42}
\definecolor{gold}{RGB}{212,175,55}

% Caja sencilla
\newcommand\orangebox[1]{\fcolorbox{ocre}{mygray}{\hspace{1em}#1\hspace{1em}}}

% Entornos tipo teorema (nombres en inglés como en tu versión)
\newtheoremstyle{mytheoremstyle}{3pt}{3pt}{\normalfont}{0cm}{\rmfamily\bfseries}{}{1em}{{\color{black}\thmname{#1}~\thmnumber{#2}}\thmnote{\,--\,#3}}
\newtheoremstyle{myproblemstyle}{3pt}{3pt}{\normalfont}{0cm}{\rmfamily\bfseries}{}{1em}{{\color{black}\thmname{#1}~\thmnumber{#2}}\thmnote{\,--\,#3}}
\theoremstyle{mytheoremstyle}
\newmdtheoremenv[linewidth=1pt,backgroundcolor=shallowGreen,linecolor=deepGreen,leftmargin=0pt,innerleftmargin=20pt,innerrightmargin=20pt]{theorem}{Theorem}[section]
\theoremstyle{mytheoremstyle}
\newmdtheoremenv[linewidth=1pt,backgroundcolor=shallowBlue,linecolor=deepBlue,leftmargin=0pt,innerleftmargin=20pt,innerrightmargin=20pt]{definition}{Definition}[section]
\theoremstyle{myproblemstyle}
\newmdtheoremenv[linecolor=black,leftmargin=0pt,innerleftmargin=10pt,innerrightmargin=10pt]{problem}{Problem}[section]

% ========================= Encabezados y pies =========================
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[LO]{\nouppercase{\leftmark}}
\fancyhead[RE]{\nouppercase{\rightmark}}

% ========================= Hipervínculos y metadatos =========================
\usepackage[hidelinks]{hyperref}
\hypersetup{
  pdftitle={Prueba de Proyecto},
  pdfauthor={Luis Alberto Cordero Montes de Oca},
  pdfsubject={Arquitectura IoT para la detección de consumos anómalos},
  pdfkeywords={IoT, energía, anomalías, tiempo real}
}

% ========================= Glosarios/Acrónimos (opcional) =========================
\usepackage[acronym]{glossaries}
\makeglossaries
\newacronym{iot}{IoT}{Internet de las Cosas}
\newacronym{mqtt}{MQTT}{Message Queuing Telemetry Transport}

% ========================= Bibliografía (opcional, recomendado) =========================
% Descomenta si vas a usar .bib
\usepackage[backend=biber,style=ieee,sorting=nty]{biblatex}
\addbibresource{referencias.bib}

% ========================= Título y autor (para metadatos; no se usa portada automática) =========================
\title{Prueba de Proyecto}
\author{Luis Alberto Cordero Montes de Oca}

\begin{document}

% ==== Portada (UNA SOLA PÁGINA) ====
\begin{titlepage}
\thispagestyle{empty}

% Fondo de márgenes y líneas verticales con TikZ
\begin{tikzpicture}[remember picture,overlay]
  % Línea guinda (ipnBrown)
  \draw[ipnBrown, line width=0.2cm]
    ($(current page.north west) + (3cm,-5cm)$) --
    ($(current page.south west) + (3cm,5cm)$);
  % Línea dorada (gold), un poco a la derecha
  \draw[gold, line width=0.2cm]
    ($(current page.north west) + (3.6cm,-5cm)$) --
    ($(current page.south west) + (3.6cm,5cm)$);
\end{tikzpicture}

% Logo IPN superior izquierdo (ajusta nombre y tamaño)
\begin{flushleft}
  \vspace*{-1cm}
  \includegraphics[height=2.5cm]{logo-ipn-guinda.png}
\end{flushleft}

\vspace*{-1cm}

% Texto centrado principal
\begin{center}
  \hspace{2.5cm}
  {\Large\bfseries INSTITUTO POLITÉCNICO NACIONAL\\[0.5cm]}
  \hspace{2cm}
  {\large\bfseries
    UNIDAD PROFESIONAL INTERDISCIPLINARIA EN\\
  \hspace{2.5cm}
    INGENIERÍA Y TECNOLOGÍAS AVANZADAS\\[0.4cm]
  \hspace{2.5cm}
    U P I I T A
  }

  \vspace{1.5cm}

  {\normalsize
  \hspace{2.5cm}
  \textit{``Arquitectura IoT para el Monitoreo\\
  \hspace{2.5cm}
  y Detección de Anomalías en\\
  \hspace{2.5cm}
  el Consumo Eléctrico Residencial''}
  }

  \vspace{1.5cm}

  \hspace{2.5cm}
  {\normalsize
  Para obtener el título de\\[0.3cm]
  \hspace{2.5cm}
  {\bfseries ``Ingeniero en Telemática''}
  }

  \vspace{1.5cm}

  {\normalsize
  \hspace{2.5cm}
  Presenta el alumno:\\[0.3cm]
  \hspace{2.5cm}
  {\bfseries Cordero Montes de Oca Luis Alberto}
  }

  \vfill

  % Directores (debajo centrado)
  {\small
  \begin{tabular}{c@{\hspace{3cm}}c}
  \hspace{2.5cm}
    \rule{6cm}{0.4pt} & \rule{6cm}{0.4pt} \\
  \hspace{2.5cm}
    Huerta Trujillo Isaac & Villordo Jimenez Ilcia \\
  \end{tabular}
  }

  \vspace{1cm}

  \hspace{1.5cm}
  {\small Ciudad de México, \the\year}
\end{center}

% Logo inferior izquierdo (upita-ipn) – opcional
\vspace*{0.5cm}
\begin{flushleft}
  \includegraphics[height=1.8cm]{logo-upiita.png}
\end{flushleft}

\end{titlepage}
\restoregeometry

% ==== Páginas preliminares ====
\pagenumbering{roman}
\setcounter{page}{1}

\chapter*{Agradecimientos}
\addcontentsline{toc}{chapter}{Agradecimientos}
% Texto de agradecimientos.
\chapter*{Resumen}
\addcontentsline{toc}{chapter}{Resumen}
\markboth{Resumen}{Resumen}
% Escribe aquí tu resumen en español.
% Palabras clave: IoT; detección de anomalías; energía; tiempo real.

\chapter*{Abstract}
\addcontentsline{toc}{chapter}{Abstract}
\markboth{Abstract}{Abstract}
\selectlanguage{english}
% Write here your abstract in English.
% Keywords: IoT; anomaly detection; energy; real-time.
\selectlanguage{spanish}

% \printglossary[type=\acronymtype,title={Lista de Acrónimos}] % Si usas glossaries

\tableofcontents
\listoftables
\listoffigures

% ========================= Cuerpo principal =========================
\clearpage
\pagenumbering{arabic}

\chapter{Introducción}
\section{Contexto y motivación}
\section{Planteamiento del problema}
\section{Objetivos}
\subsection{Objetivo general}
\subsection{Objetivos específicos}
\section{Alcance y limitaciones}
\section{Estructura del documento}

\chapter{Estado del Arte}


\chapter{Marco Teórico}
\section{Fundamentos de medición y energía}
\section{Protocolos IoT y seguridad}
\section{Modelos y técnicas de detección de anomalías}

\chapter{Análisis del Sistema}
\section{Requerimientos funcionales}
\section{Requerimientos no funcionales}
\section{Casos de uso y actores}
\section{Riesgos y supuestos}

\chapter{Diseño del Sistema}
\section{Arquitectura propuesta}
\section{Diseño de datos y tópicos}
\section{Diseño de servicios e interfaces}
\section{Diagramas de componentes y secuencia}

\chapter{Implementación del Sistema}
\section{Entorno y herramientas}
\section{Módulos implementados}
\section{Configuración y despliegue}
\section{Ejemplos de código}
% \begin{mdframed}
% \begin{verbatim}
%   Fragmentos de configuración o comandos
% \end{verbatim}
% \end{mdframed}

\chapter{Pruebas y Resultados}
\section{Plan y metodología de pruebas}
\section{Pruebas funcionales e integración}
\section{Rendimiento y escalabilidad}
\section{Resultados y discusión}

\chapter{Conclusiones y Trabajo Futuro}
\section{Conclusiones}
\section{Limitaciones}
\section{Líneas de trabajo futuro}

% ========================= Apéndices =========================
\appendix
\chapter{Guía de despliegue}
\chapter{Datasets e instrumentación}
\chapter{Documentación adicional}

% ========================= Referencias =========================
\clearpage
\chapter*{Referencias}
\addcontentsline{toc}{chapter}{Referencias}
\printbibliography[heading=none]

\end{document}